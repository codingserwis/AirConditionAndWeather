"use strict";var GoogleMap=function(){var t={basicMapConf:{domStr:"map",zoom:13,position:{lat:50.6572484,long:17.9211345}}},i=[["Pasieka",50.6619,17.9201],["Chabry",50.6791,17.9265],["LO II",50.6733,17.925],["Grudzice",50.6515,17.9857],["Groszowice",50.6249,17.9594],["Nowa Wieś Królewska",50.6533,17.9521],["Al. Solidarności",50.6747,17.9679]];return{init:function(){var t=document.createElement("script");t.type="text/javascript",t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCyeImWmy1LmNodXs2VPwMnW0-T_W_rHLw&callback=GoogleMap.create",document.body.appendChild(t)},create:function(){var e={lat:t.basicMapConf.position.lat,lng:t.basicMapConf.position.long},n=new google.maps.Map(document.getElementById(t.basicMapConf.domStr),{zoom:t.basicMapConf.zoom,center:e});i.forEach(function(t){var i=new google.maps.LatLng(t[1],t[2]),e='<h1 class="map__info-header">'+t[0]+"</h1>",r=new google.maps.InfoWindow({content:e});r.setPosition(i),r.open(n)})}}}(),IJPApi=function(t){var i={domStrings:{ijpData:".station__data-ijp",pm10Data:".station__data-pm1",pm25Data:".station__data-pm2",IJPDataContainer:".data__container-ijp",lastUpdateContainer:".weather__lastupdate-content",cond:".weather__currnet-condition",temp:".weather__currnet-temp",fTemp:".feelstemp__container",windDir:".moredata__wind-dir",windSp:".windspeed-speed",pressure:".pressure__container",precip:".precip__container",humidity:".humidity__container"},ijpApi:{apiKey:"1487184056",pointsId:{chabry:"5ccf7fc18200",pulaskiego:"5ccf7fc255ee",pileckiego:"6001940094f8",pasieka:"5ccf7fc17d7d",nowaWiesKrol:"5ccf7fc18052",grudzice:"60019400a82b",osAlSolid:"a020a6036801"}},apixuApi:{apiKey:"48147044f89b4001831152133171402",location:"Opole"}},e=function(t){return 200===t.status?Promise.resolve(t):Promise.reject(console.log(t.statusText))},n=function(t){return t.json()},r=function(){var t=new Request("http://api.apixu.com/v1/current.json?key="+i.apixuApi.apiKey+"&q="+i.apixuApi.location,{method:"GET"});fetch(t).then(e).then(n).then(o).catch(function(t){console.log(t)})},a=function(){var r=!0,a=!1,o=void 0;try{for(var c,d=Object.values(i.ijpApi.pointsId)[Symbol.iterator]();!(r=(c=d.next()).done);r=!0){var s=c.value,_=new Request("http://api.looko2.com/?method=GetLOOKO&id="+s+"&token="+i.ijpApi.apiKey,{method:"GET"});fetch(_).then(e).then(n).then(l).catch(function(t){console.log(t)})}}catch(t){a=!0,o=t}finally{try{!r&&d.return&&d.return()}finally{if(a)throw o}}t.init()},o=function(t){var e=void 0,n=void 0,r=void 0,a=document.querySelector(i.domStrings.lastUpdateContainer),o=document.querySelector(i.domStrings.cond),l=document.querySelector(i.domStrings.temp).firstElementChild,_=document.querySelector(i.domStrings.fTemp).firstElementChild,w=document.querySelector(i.domStrings.windDir),u=document.querySelector(i.domStrings.windSp),p=document.querySelector(i.domStrings.pressure).firstElementChild,m=document.querySelector(i.domStrings.precip).firstElementChild,f=document.querySelector(i.domStrings.humidity).firstElementChild;n=c(t),a.innerHTML=n[0]+" - "+n[1],e=s(t),o.innerHTML=e,l.innerHTML=t.current.temp_c,_.innerHTML=t.current.feelslike_c,r=d(t),w.innerHTML=r,u.innerHTML=t.current.wind_kph,p.innerHTML=t.current.pressure_mb,m.innerHTML=t.current.precip_mm,f.innerHTML=t.current.humidity},c=function(t){return t.current.last_updated.split(" ")},d=function(t){return"N"===t.current.wind_dir?'<i class="wi wi-wind wi-from-n"></i>':"NNE"===t.current.wind_dir?'<i class="wi wi-wind wi-from-nne"></i>':"NE"===t.current.wind_dir?'<i class="wi wi-wind wi-from-ne"></i>':"ENE"===t.current.wind_dir?'<i class="wi wi-wind wi-from-ene"></i>':"E"===t.current.wind_dir?'<i class="wi wi-wind wi-from-e"></i>':"ESE"===t.current.wind_dir?'<i class="wi wi-wind wi-from-ese"></i>':"SE"===t.current.wind_dir?'<i class="wi wi-wind wi-from-se"></i>':"SSE"===t.current.wind_dir?'<i class="wi wi-wind wi-from-sse"></i>':"S"===t.current.wind_dir?'<i class="wi wi-wind wi-from-s"></i>':"SSW"===t.current.wind_dir?'<i class="wi wi-wind wi-from-ssw"></i>':"SW"===t.current.wind_dir?'<i class="wi wi-wind wi-from-sw"></i>':"WSW"===t.current.wind_dir?'<i class="wi wi-wind wi-from-wsw"></i>':"W"===t.current.wind_dir?'<i class="wi wi-wind wi-from-w"></i>':"WNW"===t.current.wind_dir?'<i class="wi wi-wind wi-from-wnw"></i>':"NW"===t.current.wind_dir?'<i class="wi wi-wind wi-from-nw"></i>':"NNW"===t.current.wind_dir?'<i class="wi wi-wind wi-from-nnw"></i>':void 0},s=function(t){if(1===t.current.is_day){if(1e3===t.current.condition.code)return'<i class="wi wi-day-sunny"></i>';if(1003===t.current.condition.code)return'<i class="wi wi-day-cloudy"></i>'}else{if(1e3===t.current.condition.code)return'<i class="wi wi-night-clear"></i>';if(1003===t.current.condition.code)return'<i class="wi wi-night-alt-cloudy"></i>'}},l=function(t){var e=void 0,n=void 0,r=void 0,a=void 0,o=void 0,c=document.querySelector(i.domStrings.IJPDataContainer);n=_(t),r=w(t),a=u(t),o=p(t),e='<div class="station__container">\n\t\t\t\t\t\t<h2 class="station__container-header">'+n+'</h2>\n\t\t\t\t\t\t<div class="station__container-data flex flex__row flex__justify-between">\n\t\t\t\t\t\t\t<div class="station__data-ijp '+r+'">\n\t\t\t\t\t\t\t\t<h3>IJP</h3>\n\t\t\t\t\t\t\t\t<p class="data__ijp">'+t.IJP+'</p>\n\t\t\t\t\t\t\t\t<p class="text__ijp">'+t.IJPString+'</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="station__data-pm2 '+a+'">\n\t\t\t\t\t\t\t\t<h3>PM 2.5</h3>\n\t\t\t\t\t\t\t\t<p class="data__pm2">'+t.PM25+'</p>\n\t\t\t\t\t\t\t\t<p class="units">&microg/m<sup>3</sup></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="station__data-pm1 '+o+'">\n\t\t\t\t\t\t\t\t<h3>PM 10</h3>\n\t\t\t\t\t\t\t\t<p class="data__pm1">'+t.PM10+'</p>\n\t\t\t\t\t\t\t\t<p class="units">&microg/m<sup>3</sup></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>',c.insertAdjacentHTML("beforeend",e)},_=function(t){var i=void 0;return"Opole_Opolski_Alarm_Smogowy_Grud"===t.Name?i="Grudzice":"Opole_STE_Silesia_Chabry"===t.Name?i="Osiedle Chabry":"Opole_Opolski_Alarm_Smogowy_NWK"===t.Name?i="Nowa Wieś Królewska":"Opole_Komitet_Obrony_Pasieki_Pas"===t.Name?i="Pasieka":"Opole_Liceum_NR_II_Pulaskiego3"===t.Name?i="LO nr II - Puławskiego":"Opole_Opolski_Alarm_SmogowyBuhla"===t.Name?i="Opole - Groszowice":"Opole_OAS_AlSolidarnosci"===t.Name&&(i="Aleja Solidarności"),i},w=function(t){var i=void 0;return t.IJP>=0&&t.IJP<=1?i="data__bcg-dgreen":t.IJP>=2&&t.IJP<=3?i="data__bcg-green":t.IJP>=4&&t.IJP<=5?i="data__bcg-yellow":t.IJP>=6&&t.IJP<=7?i="data__bcg-orange":t.IJP>=8&&t.IJP<=9?i="data__bcg-red":t.IJP>=10&&(i="data__bcg-black"),i},u=function(t){var i=void 0;return t.PM25>=0&&t.PM25<=12?i="data__bcg-dgreen":t.PM25>=13&&t.PM25<=36?i="data__bcg-green":t.PM25>=37&&t.PM25<=60?i="data__bcg-yellow":t.PM25>=61&&t.PM25<=84?i="data__bcg-orange":t.PM25>=85&&t.PM25<=120?i="data__bcg-red":t.PM25>121&&(i="data__bcg-black"),i},p=function(t){var i=void 0;return t.PM10>=0&&t.PM10<=20?i="data__bcg-dgreen":t.PM10>=21&&t.PM10<=60?i="data__bcg-green":t.PM10>=61&&t.PM10<=100?i="data__bcg-yellow":t.PM10>=101&&t.PM10<=140?i="data__bcg-orange":t.PM10>=141&&t.PM10<=200?pm25Bcg="data__bcg-red":t.PM10>201&&(pm25Bcg="data__bcg-black"),i};return{init:function(){a(),r()}}}(GoogleMap);IJPApi.init();
//# sourceMappingURL=app.js.map
